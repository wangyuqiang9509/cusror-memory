# Git 工作流程

## 提交信息格式

```
<type>: <description>

<optional body>
```

类型说明：feat（新功能）、fix（修复）、refactor（重构）、docs（文档）、test（测试）、chore（杂项）、perf（性能优化）、ci（持续集成）

注：归属标记已通过 ~/.claude/settings.json 全局禁用。

## Pull Request 工作流程

创建 PR 时：
1. 分析完整的提交历史（而非仅查看最新提交）
2. 使用 `git diff [base-branch]...HEAD` 查看全部变更
3. 撰写完整的 PR 摘要
4. 附带包含待办事项的测试计划
5. 若为新分支，推送时使用 `-u` 参数

## 功能开发工作流程

1. **规划先行**
   - 使用 **planner** 代理创建实施计划
   - 识别依赖项与潜在风险
   - 分阶段拆解任务

2. **测试驱动开发（TDD）**
   - 使用 **tdd-guide** 代理
   - 先编写测试用例（红灯阶段）
   - 实现代码使测试通过（绿灯阶段）
   - 重构优化（改进阶段）
   - 确保测试覆盖率达 80% 以上

3. **代码审查**
   - 代码编写完成后立即使用 **code-reviewer** 代理
   - 优先处理严重（CRITICAL）和高优先级（HIGH）问题
   - 尽可能修复中等优先级（MEDIUM）问题

4. **提交与推送**
   - 编写详尽的提交信息
   - 遵循约定式提交规范
