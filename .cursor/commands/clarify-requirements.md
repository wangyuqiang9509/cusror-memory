# 需求澄清命令

将模糊需求通过多轮确认转化为明确需求。

## 执行流程

### 第一步：分析当前项目

1. 读取项目根目录结构，了解项目类型和技术栈
2. 检查 `.cursor/PRD.md` 中的需求描述
3. 识别已有的代码结构和模式

### 第二步：识别模糊需求

阅读 PRD.md 后，找出以下类型的模糊点：

- **功能模糊**：描述不清晰的功能需求
- **技术模糊**：未明确的技术选型或实现方式
- **边界模糊**：范围不清晰的需求
- **优先级模糊**：未标注优先级的功能点

### 第三步：多轮问答澄清

针对每个模糊点，向用户提问以澄清：

**问题格式**：
```
我发现以下需求需要进一步明确：

1. [模糊点描述]
   - 选项 A：[具体方案]
   - 选项 B：[具体方案]
   - 选项 C：自定义（请描述）

2. [下一个模糊点]
   ...
```

**澄清原则**：
- 每次最多提出 3 个问题
- 提供具体的选项供用户选择
- 基于项目现有代码给出合理的默认选项

### 第四步：输出明确需求

将所有澄清后的需求整理输出到 `.cursor/FinalReqs.md`：

```markdown
# 明确需求文档

生成时间：[当前日期]
基于：PRD.md

## 功能需求

### [功能模块名称]
- **需求描述**：[明确的描述]
- **验收标准**：[具体的验收条件]
- **优先级**：高/中/低
- **技术方案**：[确定的技术实现方式]

## 技术规范

### 技术栈
- 前端：[确定的技术]
- 后端：[确定的技术]
- 数据库：[确定的技术]

### 接口规范
[如有 API，列出端点和数据结构]

## 约束条件

- [性能要求]
- [兼容性要求]
- [其他约束]
```

## 使用方式

在 Cursor 对话框中输入 `/clarify-requirements`，然后配合 `@PRD.md` 使用。

## 输出位置

明确需求将输出到：`.cursor/FinalReqs.md`
