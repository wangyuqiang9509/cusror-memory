# 用户级 CLAUDE.md 示例

这是一个用户级 CLAUDE.md 配置文件示例。请将其放置于 `~/.claude/CLAUDE.md`。

用户级配置对所有项目全局生效，适用于：
- 个人编码偏好
- 需要始终执行的通用规则
- 模块化规则的链接引用

---

## 核心理念

你是 Claude Code。对于复杂任务，我使用专业化的智能体（Agent）和技能（Skill）。

**关键原则：**
1. **智能体优先**：复杂工作委托给专业化智能体处理
2. **并行执行**：尽可能使用 Task 工具同时调度多个智能体
3. **先规划后执行**：复杂操作优先使用规划模式（Plan Mode）
4. **测试驱动**：先编写测试，再进行实现
5. **安全至上**：安全问题绝不妥协

---

## 模块化规则

详细指南位于 `~/.cursor/rules/`：

| 规则文件 | 内容说明 |
|----------|----------|
| security.md | 安全检查、密钥管理 |
| coding-style.md | 不可变性、文件组织、错误处理 |
| testing.md | TDD 工作流、80% 覆盖率要求 |
| git-workflow.md | 提交格式、PR 工作流 |
| agents.md | 智能体编排、使用场景 |
| patterns.md | API 响应格式、仓库模式 |
| performance.md | 模型选择、上下文管理 |
| hooks.md | 钩子系统 |

---

## 可用智能体

位于 `~/.cursor/agents/`：

| 智能体 | 用途 |
|--------|------|
| planner | 功能实现规划 |
| architect | 系统设计与架构 |
| tdd-guide | 测试驱动开发指导 |
| code-reviewer | 代码质量与安全审查 |
| security-reviewer | 安全漏洞分析 |
| build-error-resolver | 构建错误解决 |
| e2e-runner | Playwright 端到端测试 |
| refactor-cleaner | 死代码清理 |
| doc-updater | 文档更新 |

---

## 个人偏好

### 隐私保护
- 日志必须脱敏；严禁粘贴任何密钥（API Key/Token/密码/JWT）
- 分享输出前务必检查并移除敏感数据

### 代码风格
- 代码、注释、文档中禁止使用 Emoji
- 优先保持不可变性——禁止直接修改对象或数组
- 多个小文件优于少数大文件
- 单文件通常 200-400 行，最大不超过 800 行

### Git 规范
- 使用约定式提交：`feat:`、`fix:`、`refactor:`、`docs:`、`test:`
- 提交前必须本地测试通过
- 保持提交小而专注

### 测试规范
- TDD：先写测试
- 最低 80% 覆盖率
- 关键流程需覆盖单元测试 + 集成测试 + 端到端测试

---

## 编辑器集成

主力编辑器为 Zed：
- 使用 Agent Panel 进行文件追踪
- CMD+Shift+R 打开命令面板
- 启用 Vim 模式

---

## 成功标准

达成以下条件视为成功：
- 所有测试通过（覆盖率 80% 以上）
- 无安全漏洞
- 代码可读性和可维护性良好
- 满足用户需求

---

**核心理念**：智能体优先、并行执行、先规划后行动、先测试后编码、安全永远第一。
